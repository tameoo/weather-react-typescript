(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(6),r=n.n(a),s=n(2),i=n.n(s),o=n(4),l=n(3),u=(n(12),n(0)),d=function(e){var t=e.OnToggleTemp,n=Object(c.useState)({celcius:!0,fahrenheit:!1}),a=Object(l.a)(n,2),r=a[0],s=r.celcius,i=r.fahrenheit,o=a[1],d={celcius:!0,fahrenheit:!1},j={celcius:!1,fahrenheit:!0};return Object(u.jsxs)("div",{className:"weather-toogle",children:[Object(u.jsx)("button",{className:"celcius ".concat(s&&"active"),onClick:function(){return o(d),void t("celcius")},children:"\u2103"}),Object(u.jsx)("button",{className:"fahrenheit ".concat(i&&"active"),onClick:function(){return o(j),void t("fahrenheit")},children:"\u2109"})]})},j="d701466e6f81830ea1596b7e2038a077",h=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.lat,c=t.lon,!n||!c){e.next=10;break}return e.next=4,fetch("http://api.openweathermap.org/data/2.5/weather?lat=".concat(n,"&lon=").concat(c,"&appid=").concat(j));case 4:if((a=e.sent).ok){e.next=7;break}throw new Error("Response is not correct to openweather API");case 7:return e.next=9,a.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.lat,c=t.lon,!n||!c){e.next=10;break}return e.next=4,fetch("http://api.openweathermap.org/data/2.5/forecast/daily?lat=".concat(n,"&lon=").concat(c,"&appid=").concat(j));case 4:if((a=e.sent).ok){e.next=7;break}throw new Error("Response is not correct to openweather API");case 7:return e.next=9,a.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return e.next=3,fetch("http://api.positionstack.com/v1/forward?access_key=f59c9e1719d53ed060e3c684ab5bb3f7&query=".concat(t));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Response is not correct to openweather API");case 6:return e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e,t){switch(t){case"celcius":return e-=273.15,"".concat(Math.round(e),"\u2103");case"fahrenheit":return e=1.8*(e-273.15)+32,"".concat(Math.round(e),"\u2109");default:return"".concat(Math.round(e),"\u2103")}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short",n=new Date(+"".concat(e,"000"));return"long"===t?new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(n):new Intl.DateTimeFormat("en-US",{weekday:"short",day:"numeric",month:"short"}).format(n)},O=(n(14),function(){return Object(u.jsx)("div",{className:"spinner",children:Object(u.jsx)("div",{className:"loadingio-spinner-rolling-ahygq35kjgq",children:Object(u.jsx)("div",{className:"ldio-1kxqfh68oh9",children:Object(u.jsx)("div",{})})})})}),v=(n(15),function(e){var t=e.coords,n=e.toggleTemp,a=e.OnHandleForm,r=e.OnHandleCoords,s=Object(c.useState)(null),d=Object(l.a)(s,2),j=d[0],b=d[1];if(Object(c.useEffect)((function(){(function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=b,e.next=3,h(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),j){var f,v,x,g=m(null===j||void 0===j||null===(f=j.main)||void 0===f?void 0:f.temp,n);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"navigation",children:[Object(u.jsx)("button",{className:"navigation-search",onClick:function(){return a()},children:"Search for places"}),Object(u.jsx)("button",{className:"navigation-geo",onClick:function(){return r()},children:Object(u.jsx)("i",{className:"fas fa-location"})})]}),Object(u.jsx)("div",{className:"weather-forecast",children:Object(u.jsx)("img",{src:"images/".concat(null===j||void 0===j||null===(v=j.weather[0])||void 0===v?void 0:v.icon,".svg"),alt:"weather-forecast",className:"forecast-center"})}),Object(u.jsxs)("div",{className:"weather-header",children:[g.substr(0,g.length-1),Object(u.jsx)("span",{children:g.substr(g.length-1)})]}),Object(u.jsx)("div",{className:"weather-subheader",children:null===j||void 0===j||null===(x=j.weather[0])||void 0===x?void 0:x.description}),Object(u.jsxs)("div",{className:"weather-date",children:[Object(u.jsx)("span",{children:"Today"}),Object(u.jsx)("span",{className:"dot",children:"\u2022"}),Object(u.jsx)("span",{children:p(null===j||void 0===j?void 0:j.dt)})]}),Object(u.jsxs)("div",{className:"weather-place",children:[Object(u.jsx)("i",{className:"fas fa-map-marker"}),null===j||void 0===j?void 0:j.name]})]})}return Object(u.jsx)(O,{})}),x=(n(16),function(e){var t=e.OnHandleForm,n=e.OnClickForm,a=Object(c.useState)([]),r=Object(l.a)(a,2),s=r[0],d=r[1],j=function(e){return e.map((function(e,c){var a=e.label;return Object(u.jsxs)("li",{className:"search-item",onClick:function(){return function(e){n(e),t()}(a)},children:[Object(u.jsx)("span",{children:a}),Object(u.jsx)("i",{className:"far fa-chevron-right"})]},c)}))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{className:"search-input",placeholder:"Search location",name:"search",type:"text",autoComplete:"off",onChange:function(e){return function(e){e.preventDefault();var t=function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=d,t.t1=j,t.next=4,f(e.currentTarget.value);case 4:t.t2=t.sent.data,t.t3=(0,t.t1)(t.t2),(0,t.t0)(t.t3);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.currentTarget.value.length>2&&t(),(0===e.currentTarget.value.length||e.currentTarget.value.length<2)&&d([])}(e)}}),Object(u.jsx)("ul",{className:"search-list",children:s}),Object(u.jsx)("i",{className:"far fa-times close",onClick:function(){return t()}})]})}),g=(n(17),function(e){var t,n,c,a,r,s,i,o=e.forecastWeather;return console.log(o),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"description-header",children:p(null===(t=o[0])||void 0===t?void 0:t.dt,"long")}),Object(u.jsxs)("ul",{className:"weather-grid",children:[Object(u.jsxs)("li",{className:"weather-grid-item",children:[Object(u.jsx)("p",{className:"weather-grid-subtitle",children:"Wind status"}),Object(u.jsxs)("p",{className:"weather-grid-title",children:[Math.round(null===(n=o[0])||void 0===n?void 0:n.speed),Object(u.jsx)("span",{children:"mph"})]}),Object(u.jsx)("div",{className:"weather-wind",children:Object(u.jsx)("div",{children:Object(u.jsx)("img",{className:"weather-wind-arrow",src:"images/compass.png",alt:"compass",style:{transform:"rotate(calc(".concat(null===(c=o[0])||void 0===c?void 0:c.deg,"deg - 45deg))")}})})})]}),Object(u.jsxs)("li",{className:"weather-grid-item",children:[Object(u.jsx)("p",{className:"weather-grid-subtitle",children:"Humidity"}),Object(u.jsxs)("p",{className:"weather-grid-title",children:[null===(a=o[0])||void 0===a?void 0:a.humidity,Object(u.jsx)("span",{children:"%"})]}),Object(u.jsxs)("div",{className:"weather-humidity",children:[Object(u.jsx)("div",{className:"limit",style:{width:"".concat(null===(r=o[0])||void 0===r?void 0:r.humidity,"%")}}),Object(u.jsxs)("div",{className:"upper",children:[Object(u.jsx)("span",{children:"0%"}),Object(u.jsx)("span",{children:"50%"}),Object(u.jsx)("span",{children:"100%"})]})]})]}),Object(u.jsxs)("li",{className:"weather-grid-item",children:[Object(u.jsx)("p",{className:"weather-grid-subtitle",children:"Visibility"}),Object(u.jsxs)("p",{className:"weather-grid-title",children:[Math.round((null===(s=o[0])||void 0===s?void 0:s.gust)||20),Object(u.jsx)("span",{children:"miles"})]})]}),Object(u.jsxs)("li",{className:"weather-grid-item",children:[Object(u.jsx)("p",{className:"weather-grid-subtitle",children:"Air Pressure"}),Object(u.jsxs)("p",{className:"weather-grid-title",children:[null===(i=o[0])||void 0===i?void 0:i.pressure,Object(u.jsx)("span",{children:"mb"})]})]})]})]})}),w=(n(18),function(e){var t,n,c=e.toggleTemp,a=e.forecastWeather,r=e.OnSetHighlight;return Object(u.jsx)("ul",{className:"weather-list",children:(n=null===a||void 0===a||null===(t=a.list)||void 0===t?void 0:t.slice(0,5),null===n||void 0===n?void 0:n.map((function(e,t){var n,a;return Object(u.jsxs)("li",{className:"weather-item",onClick:function(){return r(t)},children:[Object(u.jsx)("p",{className:"weather-title",children:p(null===e||void 0===e?void 0:e.dt)}),Object(u.jsx)("img",{className:"weather-img",src:"images/".concat(null===e||void 0===e?void 0:e.weather[0].icon,".svg"),alt:"weather-forecast"}),Object(u.jsxs)("div",{className:"weather-tempature",children:[Object(u.jsx)("span",{className:"day",children:m(null===e||void 0===e||null===(n=e.temp)||void 0===n?void 0:n.day,c)}),Object(u.jsx)("span",{className:"night",children:m(null===e||void 0===e||null===(a=e.temp)||void 0===a?void 0:a.night,c)})]})]},t)})))})}),N=function(e){var t=e.coords,n=e.toggleTemp,a=Object(c.useState)(0),r=Object(l.a)(a,2),s=r[0],d=r[1],j=Object(c.useState)(null),h=Object(l.a)(j,2),f=h[0],m=h[1];Object(c.useEffect)((function(){(function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m,e.next=3,b(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);return f?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(w,{toggleTemp:n,forecastWeather:f,OnSetHighlight:function(e){d(e)}}),Object(u.jsx)(g,{forecastWeather:function(e,t){return null===e||void 0===e?void 0:e.list.filter((function(e,n){return n===t}))}(f,s)})]}):Object(u.jsx)(O,{})},k=(n(19),function(){var e=Object(c.useState)({lat:null,lon:null}),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),s=Object(l.a)(r,2),j=s[0],h=s[1],b=Object(c.useState)("celcius"),m=Object(l.a)(b,2),p=m[0],O=m[1];Object(c.useEffect)((function(){g(),console.log("render")}),[]);var g=function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,n=t.latitude,c=t.longitude;a({lat:n,lon:c})}))},w=function(){h(!j)};return Object(u.jsxs)("div",{className:"weather",children:[Object(u.jsx)("div",{className:"weather-main",children:j?Object(u.jsx)(v,{coords:n,toggleTemp:p,OnHandleForm:w,OnHandleCoords:g}):Object(u.jsx)(x,{OnHandleForm:w,OnClickForm:function(e){(function(){var t=Object(o.a)(i.a.mark((function t(){var n,c,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:n=t.sent.data[0],c=n.latitude,r=n.longitude,a({lat:c,lon:r});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}})}),Object(u.jsxs)("div",{className:"weather-description",children:[Object(u.jsx)(d,{OnToggleTemp:function(e){O(e)}}),Object(u.jsx)(N,{coords:n,toggleTemp:p})]})]})}),y=(n(20),function(){return Object(u.jsx)("div",{className:"app",children:Object(u.jsx)("div",{className:"app-container",children:Object(u.jsx)(k,{})})})});n(21);r.a.render(Object(u.jsx)(y,{}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.b2991590.chunk.js.map