(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(6),r=n.n(a),s=n(3),i=n.n(s),o=n(4),l=n(2),u=(n(12),n(0)),d=function(e){var t=e.color,n=e.onToggleTemp,a=Object(c.useState)({celcius:!0,fahrenheit:!1}),r=Object(l.a)(a,2),s=r[0],i=s.celcius,o=s.fahrenheit,d=r[1],h={celcius:!0,fahrenheit:!1},j={celcius:!1,fahrenheit:!0};return Object(u.jsxs)("div",{className:"weather-toogle",children:[Object(u.jsx)("button",{className:"celcius ".concat(i&&"active"," ").concat(t),onClick:function(){return d(h),void n("celcius")},children:"\u2103"}),Object(u.jsx)("button",{className:"fahrenheit ".concat(o&&"active"," ").concat(t),onClick:function(){return d(j),void n("fahrenheit")},children:"\u2109"})]})},h=function(e,t){switch(t){case"celcius":return e-=273.15,"".concat(Math.round(e),"\u2103");case"fahrenheit":return e=1.8*(e-273.15)+32,"".concat(Math.round(e),"\u2109");default:return"".concat(Math.round(e),"\u2103")}},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short",n=new Date(+"".concat(e,"000"));return"long"===t?new Intl.DateTimeFormat("en-US",{weekday:"long"}).format(n):new Intl.DateTimeFormat("en-US",{weekday:"short",day:"numeric",month:"short"}).format(n)},m=function(e,t){return null===e||void 0===e?void 0:e.list.filter((function(e,n){return n===t}))},b=(n(14),function(e){var t,n,c=e.currentWeather,a=e.temperature,r=e.color,s=e.onHandleForm,i=e.onHandleCoords,o=h(c.main.temp,a);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"navigation",children:[Object(u.jsx)("button",{className:"navigation-search ".concat(r),onClick:function(){return s()},children:"Search for places"}),Object(u.jsx)("button",{className:"navigation-geo ".concat(r),onClick:function(){return i()},children:Object(u.jsx)("i",{className:"fas fa-location"})})]}),Object(u.jsx)("div",{className:"weather-forecast",children:Object(u.jsx)("img",{src:"images/".concat(null===c||void 0===c||null===(t=c.weather[0])||void 0===t?void 0:t.icon,".svg"),alt:"weather-forecast",className:"forecast-center"})}),Object(u.jsxs)("div",{className:"weather-header ".concat(r),children:[o.substr(0,o.length-1),Object(u.jsx)("span",{children:o.substr(o.length-1)})]}),Object(u.jsx)("div",{className:"weather-subheader ".concat(r),children:null===c||void 0===c||null===(n=c.weather[0])||void 0===n?void 0:n.description}),Object(u.jsxs)("div",{className:"weather-date ".concat(r),children:[Object(u.jsx)("span",{children:"Today"}),Object(u.jsx)("span",{className:"dot",children:"\u2022"}),Object(u.jsx)("span",{children:j(null===c||void 0===c?void 0:c.dt)})]}),Object(u.jsxs)("div",{className:"weather-place ".concat(r),children:[Object(u.jsx)("i",{className:"fas fa-map-marker"}),null===c||void 0===c?void 0:c.name]})]})}),p="d701466e6f81830ea1596b7e2038a077",f=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lat,c=t.lon,e.next=3,fetch("http://pro.openweathermap.org/data/2.5/weather?lat=".concat(n,"&lon=").concat(c,"&appid=").concat(p));case 3:if((a=e.sent).ok){e.next=6;break}throw new Error("Response is not correct to openweather API");case 6:return e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lat,c=t.lon,e.next=3,fetch("http://pro.openweathermap.org/data/2.5/forecast/daily?lat=".concat(n,"&lon=").concat(c,"&appid=").concat(p));case 3:if((a=e.sent).ok){e.next=6;break}throw new Error("Response is not correct to openweather API");case 6:return e.next=8,a.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.geoapify.com/v1/geocode/search?text=".concat(t,"&apiKey=").concat("fbc13c10bd85447d8b05a6fd4f167c9a"));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Response is not correct to openweather API");case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=(n(15),function(e){var t=e.color,n=e.onHandleForm,a=e.onClickItem,r=Object(c.useState)([]),s=Object(l.a)(r,2),d=s[0],h=s[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{className:"search-input",placeholder:"Search location",name:"search",type:"text",autoComplete:"off",onChange:function(e){return function(e){e.preventDefault();var t=function(){var t=Object(o.a)(i.a.mark((function t(){var n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e.currentTarget.value);case 2:n=t.sent,c=n.features,h(c);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.currentTarget.value.length>2&&t(),(0===e.currentTarget.value.length||e.currentTarget.value.length<2)&&h([])}(e)}}),Object(u.jsx)("ul",{className:"search-list",children:function(e){return e.map((function(e,c){var r=e.properties,s=r.city,i=r.lat,o=r.lon;return Object(u.jsxs)("li",{className:"search-item ".concat(t),onClick:function(){return a({lat:i,lon:o}),void n()},children:[Object(u.jsx)("span",{children:s}),Object(u.jsx)("i",{className:"far fa-chevron-right"})]},c)}))}(d)}),Object(u.jsx)("i",{className:"far fa-times close ".concat(t),onClick:function(){return n()}})]})}),g=function(e){var t=e.currentWeather,n=e.temperature,a=e.color,r=e.onClickItem,s=e.onHandleCoords,i=Object(c.useState)(!0),o=Object(l.a)(i,2),d=o[0],h=o[1],j=function(){h(!d)};return d?Object(u.jsx)(b,{currentWeather:t,temperature:n,color:a,onHandleForm:j,onHandleCoords:s}):Object(u.jsx)(x,{color:a,onHandleForm:j,onClickItem:r})},w=(n(16),function(e){var t,n,c,a,r,s,i,o=e.highlight,l=e.color;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{className:"description-header ".concat(l),children:j(null===(t=o[0])||void 0===t?void 0:t.dt,"long")}),Object(u.jsxs)("ul",{className:"weather-grid",children:[Object(u.jsxs)("li",{className:"weather-grid-item ".concat(l),children:[Object(u.jsx)("p",{className:"weather-grid-subtitle",children:"Wind status"}),Object(u.jsxs)("p",{className:"weather-grid-title mb0",children:[Math.round(null===(n=o[0])||void 0===n?void 0:n.speed),Object(u.jsx)("span",{children:"mph"})]}),Object(u.jsx)("div",{className:"weather-wind",children:Object(u.jsx)("img",{className:"weather-wind-arrow",src:"images/compass.svg",alt:"compass",style:{transform:"rotate(".concat(null===(c=o[0])||void 0===c?void 0:c.deg,"deg)")}})})]}),Object(u.jsxs)("li",{className:"weather-grid-item ".concat(l),children:[Object(u.jsx)("p",{className:"weather-grid-subtitle",children:"Humidity"}),Object(u.jsxs)("p",{className:"weather-grid-title",children:[null===(a=o[0])||void 0===a?void 0:a.humidity,Object(u.jsx)("span",{children:"%"})]}),Object(u.jsxs)("div",{className:"weather-humidity",children:[Object(u.jsx)("div",{className:"limit",style:{width:"".concat(null===(r=o[0])||void 0===r?void 0:r.humidity,"%")}}),Object(u.jsxs)("div",{className:"upper",children:[Object(u.jsx)("span",{children:"0%"}),Object(u.jsx)("span",{children:"50%"}),Object(u.jsx)("span",{children:"100%"})]})]})]}),Object(u.jsxs)("li",{className:"weather-grid-item ".concat(l),children:[Object(u.jsx)("p",{className:"weather-grid-subtitle",children:"Visibility"}),Object(u.jsxs)("p",{className:"weather-grid-title",children:[Math.round((null===(s=o[0])||void 0===s?void 0:s.gust)||20),Object(u.jsx)("span",{children:"miles"})]})]}),Object(u.jsxs)("li",{className:"weather-grid-item ".concat(l),children:[Object(u.jsx)("p",{className:"weather-grid-subtitle",children:"Air Pressure"}),Object(u.jsxs)("p",{className:"weather-grid-title",children:[null===(i=o[0])||void 0===i?void 0:i.pressure,Object(u.jsx)("span",{children:"mb"})]})]})]})]})}),N=(n(17),function(e){var t,n=e.temperature,c=e.color,a=e.forecastWeather,r=e.onSetHighlight;return Object(u.jsx)("ul",{className:"weather-list",children:(t=a.list.slice(0,5),t.map((function(e,t){var a,s,i=h(null===(a=e.temp)||void 0===a?void 0:a.day,n),o=h(null===(s=e.temp)||void 0===s?void 0:s.night,n);return Object(u.jsxs)("li",{className:"weather-item ".concat(c),onClick:function(){return r(t)},children:[Object(u.jsx)("p",{className:"weather-title",children:j(e.dt)}),Object(u.jsx)("img",{className:"weather-img",src:"images/".concat(e.weather[0].icon,".svg"),alt:"weather-forecast"}),Object(u.jsxs)("div",{className:"weather-tempature",children:[Object(u.jsx)("span",{className:"day",children:i}),Object(u.jsx)("span",{className:"night-opacity",children:o})]})]},t)})))})}),k=function(e){var t=e.forecastWeather,n=e.temperature,a=e.color,r=Object(c.useState)(0),s=Object(l.a)(r,2),i=s[0],o=s[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(N,{forecastWeather:t,temperature:n,color:a,onSetHighlight:function(e){o(e)}}),Object(u.jsx)(w,{highlight:m(t,i),color:a})]})},y=(n(18),function(){return Object(u.jsx)("div",{className:"spinner",children:Object(u.jsx)("div",{className:"loadingio-spinner-rolling-ahygq35kjgq",children:Object(u.jsx)("div",{className:"ldio-1kxqfh68oh9",children:Object(u.jsx)("div",{})})})})}),C=(n(19),function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),s=Object(l.a)(r,2),h=s[0],j=s[1],m=Object(c.useState)(null),b=Object(l.a)(m,2),p=b[0],v=b[1],x=Object(c.useState)("celcius"),w=Object(l.a)(x,2),N=w[0],C=w[1],S=Object(c.useState)(""),H=Object(l.a)(S,2),T=H[0],F=H[1],I=Object(c.useCallback)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,n=t.latitude,c=t.longitude;W({lat:n,lon:c})}))}),[]);Object(c.useEffect)((function(){I()}),[I]);var W=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,c,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.t0=j,e.next=4,f(t);case 4:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=v,e.next=9,O(t);case 9:return e.t3=e.sent,(0,e.t2)(e.t3),e.next=13,f(t);case 13:n=e.sent,c=n.dt,r=n.sys,s=r.sunrise,o=r.sunset,F(s>c||o<c?"night":""),a(!1);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n?Object(u.jsx)(y,{}):Object(u.jsx)("div",{className:"app ".concat(T),children:Object(u.jsxs)("div",{className:"weather",children:[Object(u.jsx)("div",{className:"weather-main ".concat(T),children:Object(u.jsx)(g,{currentWeather:h,color:T,temperature:N,onHandleCoords:I,onClickItem:function(e){W(e)}})}),Object(u.jsxs)("div",{className:"weather-description ".concat(T),children:[Object(u.jsx)(d,{color:T,onToggleTemp:function(e){C(e)}}),Object(u.jsx)(k,{forecastWeather:p,temperature:N,color:T})]})]})})}),S=(n(20),function(){return Object(u.jsx)(C,{})});n(21);r.a.render(Object(u.jsx)(S,{}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.38711f46.chunk.js.map